<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>My New Hugo Site </title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="generator" content="Hugo 0.58.2" />
    
    
      <META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">
    

    
    
      <link href="/hugo/dist/css/app.d98f2eb6bcd1eaedb7edf166bd16af26.css" rel="stylesheet">
    

    

    
      
    

    

    <meta property="og:title" content="" />
<meta property="og:description" content="Music playlist   Let&#39;s take the example from the article, songs: $≤ft\$abcde\right\$, playlist: $abacabdcbaeacbd$,  $_bar{x} = (1,2,4,7,11)$  For $_bar{x}$, each number in the n-tuple indicates a position in the playlist for the first occurrence of a particular unique song. The article uses 1-indexing so I will use the same to be consistent.  As an example for the $_bar{x}$ abovei, consider the playlist family:  $p_l = (1_1,2_2,c_3,3_4,c_5,c_6,4_7,c_8,c_9,c10,511,c12,c13,c14)$  Here I have used the numbers (characters) $1-5$, to indicate a song number, instead of the $a-e$ in the article." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://frankliu.org/hugo/920-number-of-music-playlists/" />

<meta itemprop="name" content="">
<meta itemprop="description" content="Music playlist   Let&#39;s take the example from the article, songs: $≤ft\$abcde\right\$, playlist: $abacabdcbaeacbd$,  $_bar{x} = (1,2,4,7,11)$  For $_bar{x}$, each number in the n-tuple indicates a position in the playlist for the first occurrence of a particular unique song. The article uses 1-indexing so I will use the same to be consistent.  As an example for the $_bar{x}$ abovei, consider the playlist family:  $p_l = (1_1,2_2,c_3,3_4,c_5,c_6,4_7,c_8,c_9,c10,511,c12,c13,c14)$  Here I have used the numbers (characters) $1-5$, to indicate a song number, instead of the $a-e$ in the article.">



<meta itemprop="wordCount" content="793">



<meta itemprop="keywords" content="" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content=""/>
<meta name="twitter:description" content="Music playlist   Let&#39;s take the example from the article, songs: $≤ft\$abcde\right\$, playlist: $abacabdcbaeacbd$,  $_bar{x} = (1,2,4,7,11)$  For $_bar{x}$, each number in the n-tuple indicates a position in the playlist for the first occurrence of a particular unique song. The article uses 1-indexing so I will use the same to be consistent.  As an example for the $_bar{x}$ abovei, consider the playlist family:  $p_l = (1_1,2_2,c_3,3_4,c_5,c_6,4_7,c_8,c_9,c10,511,c12,c13,c14)$  Here I have used the numbers (characters) $1-5$, to indicate a song number, instead of the $a-e$ in the article."/>

  </head>

  <body class="ma0 avenir bg-near-white">

    

  <header>
    <div class="bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="http://frankliu.org/hugo/" class="f3 fw2 hover-white no-underline white-90 dib">
      My New Hugo Site
    </a>
    <div class="flex-l items-center">
      

      
      











    </div>
  </div>
</nav>

    </div>
  </header>


    <main class="pb7" role="main">
      
  <div class="flex-l mt2 mw8 center">
    <article class="center cf pv5 ph3 ph4-ns mw7">
      <header>
        <p class="f6 b helvetica tracked">
          
        </p>
        <h1 class="f1">
          
        </h1>
      </header>
      <div class="nested-copy-line-height lh-copy f4 nested-links nested-img mid-gray">
        
<h1 id="headline-1">
Music playlist
</h1>
<p>
Let&#39;s take the example from the article, songs: $≤ft\$abcde\right\$,
playlist: $abacabdcbaeacbd$,
</p>
<p>
$_bar{x} = (1,2,4,7,11)$
</p>
<p>
For $_bar{x}$, each number in the n-tuple indicates a position in the
playlist for the first occurrence of a particular unique song.  The article uses
1-indexing so I will use the same to be consistent.
</p>
<p>
As an example for the $_bar{x}$ abovei, consider the playlist family:
</p>
<p>
$p_l = (1_1,2_2,c_3,3_4,c_5,c_6,4_7,c_8,c_9,c<sub>10</sub>,5<sub>11</sub>,c<sub>12</sub>,c<sub>13</sub>,c<sub>14</sub>)$
</p>
<p>
Here I have used the numbers (characters) $1-5$, to indicate a song number,
instead of the $a-e$ in the article. The subscripts indicate the position in
$p_l$ for ease of reference. And I will refer to the song as characters in a
string for simplicity. The characters $c$ in $p_l$ indicate the possible
characters that may be inserted at that position. Note that for the character
$c$ at position 3, since I have only seen $2$ unique songs so far, $c_3$ must
come from $≤ft\{1,2\right\}$ whereas for the $c<sub>5,6</sub>$ must come from the set
$\{1,2,3\}$ since I have only seen $3$ unique songs so far.
</p>
<p>
Now take in consideration the restriction of $K$, it implies that there must be
a window of $K+1$ non-repeating characters. Let&#39;s take $K+1 = 2$ for the example
above. That means for the $c_3$, its choice of characters must come from the set
${1,2}$ and in addition it must be different from character at position $2$,
namely &#39;$2$&#39; in the example above. This restriction implies that there is only
one possible choice for $c_3$, namely &#39;$1$&#39;. We will count this possibility as
$1^δ$, where $δ$ denotes the number of characters between the first
occurrence of the $K+1$th character and the first occurrence of the $K+2$th
character, or $x<sub>K+2</sub>-x<sub>K+1</sub>-1$ from $_bar{x}$. Similarly for $c$ at
positions $5$ and $6$, their choice must come from the set $≤ft\{1,2,3\right\}$ and in
addition it must differ from the previous $K$ characters, translating to a choice of
two characters at each position. We will count this possibilities as $2^δ$,
where $δ$ here denotes the number of characters between $K+2$ and $K+3$
characters (first occurrences), or $x<sub>K+3</sub> - x<sub>K+2</sub> - 1$.
</p>
<p>
The careful reader will note that I count the first $K+1$ characters as being
unique, whereas the article counts the first $K$ characters. My suspicion is
that the author also thinks in terms of a window of $K$ unique characters rather
than of $K+1$ characters, thus interchanging the usage of the $K$ previous other
characters with the window length for unique characters. To be consistent, I
stick with the definition of $K$ in the problem statement.
</p>
<p>
Given $N$, $L$, and $K$, how many $δ$&#39;s are there? This should be equal to
the number of unique characters discounting the grouping at the beginning or
$N-K ≡ P$. Conveniently, the article suggests adding a $x<sub>N+1</sub> = L+1$ to
$_bar{x}$ so the last $δ$ can be determined from $_bar{x}$.
</p>
<p>
Given $N$, $L$, and $K$, what is the sum of $δ$ values? Since each $δ$
for a given $_bar{x}$ corresponds to a spacing between first occurrences,
the total sum of spaces plus the unique characters must sum to $L$, in other
words, $∑ δ_i + N = L$, or $∑ δ = L-N ≡ S$. Note that a
vector of $δ_i$&#39;s uniquely determines an $_bar{x}$. So an enumeration
of all possible $_bar{x}$ is equivalent to enumerating all possible
$_bar{δ}$, where a $_bar{δ}$ denotes a n-tuple of
$δ_i$s corresponding to some $_bar{x}$. The article expresses this
enumeration as $∑_{_bar{δ}: ∑ δ_i = S$.
</p>
<p>
To be consistent with the definition of $K$ in the problem.  The final answer
should almost match the one in the article 
</p>
<p>
\[
N! ≤ft\( ∑_{_bar{δ}} Π<sub>j=1</sub><sup>N-K</sup> j^{x<sub>K+1+j</sub>-x<sub>K+j</sub>-1} \right\)
\]
</p>
<p>
For the answer utilizing the generating functions, the key idea is as follow,
you are looking for all combination of $P$ numbers that sum up to a number $S$.
The $x^S$ coefficient of the generating function is conveniently the sum of all
possible $j^δ$ products. Since each infinite geometric series in the
generating function can be expressed as simple fraction, the generation function
becomes the product of simple fractions. 
</p>
<p>
The product of fractions can be expanded to the sum of partials fractions. Since
each partial fraction has the form of the sum of an infinite geometric series,
we just return the $x^S$ term from each of the partial fractions.
</p>
<p>
The only other thing not mentioned in the article, but used in the code is
finding the inverse of a number in modulo ring. One way to get the inverse of a
number is to use the extended Eucledian algorithm, but for modulo $n$, where $n$
is prime, we can use Fermat&#39;s little theorem, which says that $a^p ≡ a
(\mod p)$,
so $a<sup>p-1</sup> ≡ 1 (\mod p)$, and $a<sup>p-2</sup> ≡ a<sup>-1</sup> (\mod p)$,
which shows up in the article&#39;s solution.
</p>

      </div>
    </article>
  </div>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="http://frankliu.org/hugo/" >
    &copy; 2019 My New Hugo Site
  </a>
    <div>










</div>
  </div>
</footer>

    

  <script src="/hugo/dist/js/app.3fc0f988d21662902933.js"></script>


  </body>
</html>
