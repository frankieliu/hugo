<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>My New Hugo Site  | Tree Depth - USACO Platimum Dec19</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="generator" content="Hugo 0.67.1" />
    
    
      <META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">
    

    
    
      <link href="https://www.frankliu.org/hugo/dist/css/app.1cb140d8ba31d5b2f1114537dd04802a.css" rel="stylesheet">
    

    
      <link rel="stylesheet" type="text/css" href="https://www.frankliu.org/hugo/css/test.css">
    

    
      
    

    
    
    <meta property="og:title" content="Tree Depth - USACO Platimum Dec19" />
<meta property="og:description" content="This is a commentary on the solution from Benjamin Qi.
from permutation to tree generation Before we go into the solution of this problem it is good to be able to understand how to create a tree using a permutation.
First how does a permutation \(a\) translate into a tree? Think of \(a[i]\) as the time in which node \(i\) is inserted to the tree. We&rsquo;ll use the following \(a=42315\) for illustration." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.frankliu.org/hugo/posts/usaco-dec-2019-plat-tree-depth/" />
<meta property="article:published_time" content="2020-01-15T18:21:28-08:00" />
<meta property="article:modified_time" content="2020-01-16T23:31:56-08:00" />
<meta itemprop="name" content="Tree Depth - USACO Platimum Dec19">
<meta itemprop="description" content="This is a commentary on the solution from Benjamin Qi.
from permutation to tree generation Before we go into the solution of this problem it is good to be able to understand how to create a tree using a permutation.
First how does a permutation \(a\) translate into a tree? Think of \(a[i]\) as the time in which node \(i\) is inserted to the tree. We&rsquo;ll use the following \(a=42315\) for illustration.">
<meta itemprop="datePublished" content="2020-01-15T18:21:28-08:00" />
<meta itemprop="dateModified" content="2020-01-16T23:31:56-08:00" />
<meta itemprop="wordCount" content="1902">



<meta itemprop="keywords" content="generating functions,trees,permutations," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Tree Depth - USACO Platimum Dec19"/>
<meta name="twitter:description" content="This is a commentary on the solution from Benjamin Qi.
from permutation to tree generation Before we go into the solution of this problem it is good to be able to understand how to create a tree using a permutation.
First how does a permutation \(a\) translate into a tree? Think of \(a[i]\) as the time in which node \(i\) is inserted to the tree. We&rsquo;ll use the following \(a=42315\) for illustration."/>

  </head>

  <body class="ma0 avenir bg-near-white">

    
   
  

  <header>
    <div class="bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="https://www.frankliu.org/hugo/" class="f3 fw2 hover-white no-underline white-90 dib">
      My New Hugo Site
    </a>
    <div class="flex-l items-center">
      

      
        <ul class="pl0 mr3">
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="https://www.frankliu.org/hugo/about/" title="About page">
              About
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="https://www.frankliu.org/hugo/posts/" title="Articles page">
              Articles
            </a>
          </li>
          
        </ul>
      
      



<a href="https://www.facebook.com/frankie.liu.9279" target="_blank" class="link-transition facebook link dib z-999 pt3 pt0-l mr1" title="Facebook link" rel="noopener" aria-label="follow on Facebook——Opens in a new window">
  <svg height="32px"  style="enable-background:new 0 0 67 67;" version="1.1" viewBox="0 0 67 67" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M28.765,50.32h6.744V33.998h4.499l0.596-5.624h-5.095  l0.007-2.816c0-1.466,0.14-2.253,2.244-2.253h2.812V17.68h-4.5c-5.405,0-7.307,2.729-7.307,7.317v3.377h-3.369v5.625h3.369V50.32z   M33,64C16.432,64,3,50.569,3,34S16.432,4,33,4s30,13.431,30,30S49.568,64,33,64z" style="fill-rule:evenodd;clip-rule:evenodd;"/></svg>

<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000" width="8px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>
</span></a>


<a href="https://twitter.com/pi31415629" target="_blank" class="link-transition twitter link dib z-999 pt3 pt0-l mr1" title="Twitter link" rel="noopener" aria-label="follow on Twitter——Opens in a new window">
  <svg height="32px"  style="enable-background:new 0 0 67 67;" version="1.1" viewBox="0 0 67 67" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167,22.283c-2.619,0.953-4.274,3.411-4.086,6.101  l0.063,1.038l-1.048-0.127c-3.813-0.487-7.145-2.139-9.974-4.915l-1.383-1.377l-0.356,1.017c-0.754,2.267-0.272,4.661,1.299,6.271  c0.838,0.89,0.649,1.017-0.796,0.487c-0.503-0.169-0.943-0.296-0.985-0.233c-0.146,0.149,0.356,2.076,0.754,2.839  c0.545,1.06,1.655,2.097,2.871,2.712l1.027,0.487l-1.215,0.021c-1.173,0-1.215,0.021-1.089,0.467  c0.419,1.377,2.074,2.839,3.918,3.475l1.299,0.444l-1.131,0.678c-1.676,0.976-3.646,1.526-5.616,1.568  C19.775,43.256,19,43.341,19,43.405c0,0.211,2.557,1.397,4.044,1.864c4.463,1.377,9.765,0.783,13.746-1.568  c2.829-1.673,5.657-5,6.978-8.221c0.713-1.716,1.425-4.851,1.425-6.354c0-0.975,0.063-1.102,1.236-2.267  c0.692-0.678,1.341-1.419,1.467-1.631c0.21-0.403,0.188-0.403-0.88-0.043c-1.781,0.636-2.033,0.551-1.152-0.402  c0.649-0.678,1.425-1.907,1.425-2.267c0-0.063-0.314,0.042-0.671,0.233c-0.377,0.212-1.215,0.53-1.844,0.72l-1.131,0.361l-1.027-0.7  c-0.566-0.381-1.361-0.805-1.781-0.932C39.766,21.902,38.131,21.944,37.167,22.283z M33,64C16.432,64,3,50.569,3,34S16.432,4,33,4  s30,13.431,30,30S49.568,64,33,64z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/></svg>

<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000" width="8px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>
</span></a>




<a href="https://www.linkedin.com/in/frankieyliu/" target="_blank" class="link-transition linkedin link dib z-999 pt3 pt0-l mr1" title="LinkedIn link" rel="noopener" aria-label="follow on LinkedIn——Opens in a new window">
  <svg  height="32px"  style="enable-background:new 0 0 65 65;" version="1.1" viewBox="0 0 65 65" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  <path d="M50.837,48.137V36.425c0-6.275-3.35-9.195-7.816-9.195  c-3.604,0-5.219,1.983-6.119,3.374V27.71h-6.79c0.09,1.917,0,20.427,0,20.427h6.79V36.729c0-0.609,0.044-1.219,0.224-1.655  c0.49-1.22,1.607-2.483,3.482-2.483c2.458,0,3.44,1.873,3.44,4.618v10.929H50.837z M22.959,24.922c2.367,0,3.842-1.57,3.842-3.531  c-0.044-2.003-1.475-3.528-3.797-3.528s-3.841,1.524-3.841,3.528c0,1.961,1.474,3.531,3.753,3.531H22.959z M34,64  C17.432,64,4,50.568,4,34C4,17.431,17.432,4,34,4s30,13.431,30,30C64,50.568,50.568,64,34,64z M26.354,48.137V27.71h-6.789v20.427  H26.354z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>

<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000" width="8px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>
</span></a>


<a href="https://github.com/frankieliu" target="_blank" class="link-transition github link dib z-999 pt3 pt0-l mr1" title="Github link" rel="noopener" aria-label="follow on Github——Opens in a new window">
  <svg  height="32px"  style="enable-background:new 0 0 512 512;" version="1.1" viewBox="0 0 512 512" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
  <path d="M256,32C132.3,32,32,134.8,32,261.7c0,101.5,64.2,187.5,153.2,217.9c11.2,2.1,15.3-5,15.3-11.1   c0-5.5-0.2-19.9-0.3-39.1c-62.3,13.9-75.5-30.8-75.5-30.8c-10.2-26.5-24.9-33.6-24.9-33.6c-20.3-14.3,1.5-14,1.5-14   c22.5,1.6,34.3,23.7,34.3,23.7c20,35.1,52.4,25,65.2,19.1c2-14.8,7.8-25,14.2-30.7c-49.7-5.8-102-25.5-102-113.5   c0-25.1,8.7-45.6,23-61.6c-2.3-5.8-10-29.2,2.2-60.8c0,0,18.8-6.2,61.6,23.5c17.9-5.1,37-7.6,56.1-7.7c19,0.1,38.2,2.6,56.1,7.7   c42.8-29.7,61.5-23.5,61.5-23.5c12.2,31.6,4.5,55,2.2,60.8c14.3,16.1,23,36.6,23,61.6c0,88.2-52.4,107.6-102.3,113.3   c8,7.1,15.2,21.1,15.2,42.5c0,30.7-0.3,55.5-0.3,63c0,6.1,4,13.3,15.4,11C415.9,449.1,480,363.1,480,261.7   C480,134.8,379.7,32,256,32z"/>
</svg>

<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000" width="8px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>
</span></a>



<a href="https://medium.com/eins-zwei" target="_blank" class="link-transition medium link dib z-999 pt3 pt0-l mr1" title="Medium link" rel="noopener" aria-label="follow on Medium——Opens in a new window">
  <svg  height="32px"  style="enable-background:new 0 0 170 170;" version="1.1" viewBox="0 0 170 170" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M46.5340803,65.2157554 C46.6968378,63.6076572 46.0836,62.018231 44.8828198,60.93592 L32.6512605,46.2010582 L32.6512605,44 L70.6302521,44 L99.9859944,108.380952 L125.794585,44 L162,44 L162,46.2010582 L151.542017,56.2281011 C150.640424,56.9153477 150.193188,58.0448862 150.380019,59.1628454 L150.380019,132.837155 C150.193188,133.955114 150.640424,135.084652 151.542017,135.771899 L161.755369,145.798942 L161.755369,148 L110.38282,148 L110.38282,145.798942 L120.963119,135.527337 C122.002801,134.487948 122.002801,134.182246 122.002801,132.592593 L122.002801,73.0417402 L92.585901,147.755438 L88.6106443,147.755438 L54.3622782,73.0417402 L54.3622782,123.115814 C54.0767278,125.221069 54.7759199,127.3406 56.2581699,128.863022 L70.0186741,145.55438 L70.0186741,147.755438 L31,147.755438 L31,145.55438 L44.7605042,128.863022 C46.2319621,127.338076 46.8903838,125.204485 46.5340803,123.115814 L46.5340803,65.2157554 Z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>

<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000" width="8px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>
</span></a>




<a href="https://discordapp.com/users/523372803387293696" target="_blank" class="link-transition discord link dib z-999 pt3 pt0-l mr1" title="Discord link" rel="noopener" aria-label="follow on Discord——Opens in a new window">
  

<svg  height="32px"  style="enable-background:new 0 0 170 170;" version="1.1" viewBox="0 0 170 170" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<g
   id="g16"
   transform="matrix(0.73347458,0,0,0.73347458,-4.35805,2.2690639)"><path
     id="path2"
     d="m 104.4,103.9 c -5.7,0 -10.2,5 -10.2,11.1 0,6.1 4.6,11.1 10.2,11.1 5.7,0 10.2,-5 10.2,-11.1 0.1,-6.1 -4.5,-11.1 -10.2,-11.1 z m 36.5,0 c -5.7,0 -10.2,5 -10.2,11.1 0,6.1 4.6,11.1 10.2,11.1 5.7,0 10.2,-5 10.2,-11.1 0,-6.1 -4.5,-11.1 -10.2,-11.1 z"
     class="st0"
     inkscape:connector-curvature="0" /><path
     id="path4"
     d="M 189.5,20 H 55.5 C 44.2,20 35,29.2 35,40.6 v 135.2 c 0,11.4 9.2,20.6 20.5,20.6 h 113.4 l -5.3,-18.5 12.8,11.9 12.1,11.2 21.5,19 V 40.6 C 210,29.2 200.8,20 189.5,20 Z m -38.6,130.6 c 0,0 -3.6,-4.3 -6.6,-8.1 13.1,-3.7 18.1,-11.9 18.1,-11.9 -4.1,2.7 -8,4.6 -11.5,5.9 -5,2.1 -9.8,3.5 -14.5,4.3 -9.6,1.8 -18.4,1.3 -25.9,-0.1 -5.7,-1.1 -10.6,-2.7 -14.7,-4.3 -2.3,-0.9 -4.8,-2 -7.3,-3.4 -0.3,-0.2 -0.6,-0.3 -0.9,-0.5 -0.2,-0.1 -0.3,-0.2 -0.4,-0.3 -1.8,-1 -2.8,-1.7 -2.8,-1.7 0,0 4.8,8 17.5,11.8 -3,3.8 -6.7,8.3 -6.7,8.3 -22.1,-0.7 -30.5,-15.2 -30.5,-15.2 0,-32.2 14.4,-58.3 14.4,-58.3 14.4,-10.8 28.1,-10.5 28.1,-10.5 l 1,1.2 c -18,5.2 -26.3,13.1 -26.3,13.1 0,0 2.2,-1.2 5.9,-2.9 10.7,-4.7 19.2,-6 22.7,-6.3 0.6,-0.1 1.1,-0.2 1.7,-0.2 6.1,-0.8 13,-1 20.2,-0.2 9.5,1.1 19.7,3.9 30.1,9.6 0,0 -7.9,-7.5 -24.9,-12.7 l 1.4,-1.6 c 0,0 13.7,-0.3 28.1,10.5 0,0 14.4,26.1 14.4,58.3 0,0 -8.5,14.5 -30.6,15.2 z"
     class="st0"
     inkscape:connector-curvature="0" /></g></svg>

<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000" width="8px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>
</span></a>


    </div>
  </div>
</nav>

    </div>
  </header>

<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    displayMath: [['$$','$$'], ['\\[','\\]']],
    processEscapes: true,
    processEnvironments: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre','code'],
    TeX: { equationNumbers: { autoNumber: "AMS" },
    extensions: ["AMSmath.js", "AMSsymbols.js"] }
    }
    });
</script>



    <main class="pb7" role="main">
      
  
  <article class="flex-l flex-wrap justify-between mw8 center ph3">

    <header class="mt4 w-100">
      <p class="f6 b helvetica tracked">
          
        ARTICLES
      </p>
      <h1 class="f1 athelas mb1">Tree Depth - USACO Platimum Dec19</h1>
      
      <p class="tracked">
          By <strong>
          
              adam
          
          </strong>
      </p>
      
      
      <time class="f6 mv4 dib tracked" datetime="2020-01-15T18:21:28-08:00">January 15, 2020</time>
      
      
    </header>

    <section class="nested-copy-line-height lh-copy serif f4 nested-links nested-img mid-gray pr4-l w-two-thirds-l"><p>This is a commentary on the solution from Benjamin Qi.</p>
<h2 id="from-permutation-to-tree-generation">from permutation to tree generation</h2>
<p>Before we go into the solution of this problem it is good to be able to
understand how to create a tree using a permutation.</p>
<p>First how does a permutation \(a\) translate into a tree? Think of \(a[i]\) as the
time in which node \(i\) is inserted to the tree. We&rsquo;ll use the following
\(a=42315\) for illustration. Assume \(1\) indexing to refer to both the index in
\(a\) and also the node number.</p>
<p>Then since \(a[4] = 1\) then node \(4\) is inserted first, becoming the root. This
divides the tree into two parts (it is a BST). Since there is only one more node
to the right of node \(4\) we will just add node \(5\) as a right child of node \(4\).</p>
<p>For the left subtree, again we find the next smaller index, in this case \(a[2]\),
this means that node \(2\) will be the left child of node \(4\). Since there are
only two remaining nodes on the either side of node \(2\), nodes \(1\) and \(3\) will
be on both left and right braches from node \(2\) respectively.</p>
<figure>
    <img src="https://www.frankliu.org/hugo/images/tree-depth/tree-depth.svg"/> 
</figure>

<h2 id="from-permutation--a--to-depth-of-nodes">from permutation \(a\) to depth of nodes</h2>
<p>Let&rsquo;s take node \(3\) in the example above. Node \(3\) is at a depth of \(3\) (note
the depth of root is \(1\) according to the problem). Looking to the left of node
\(3\), only node \(2\) can be a possible ancestor of node \(3\), since node \(2\) comes
before node \(3\) (\(a[2] &lt; a[3]\)). One can make a similar argument to the right of
\(3\), node \(4\) can be an ancestor of \(3\), since \(a[4] &lt; a[3]\). Since node \(3\) is
a descendant of two nodes \(2\) and \(4\) its depth must be \(3\). One might argue that
it is possible that node \(2\) lies on one branch of node \(4\) and node \(3\) lies in
another branch of node \(4\). This is not possible because both nodes \(2\) and \(3\)
lie on the same subtree since they both come after node \(4\) and lie to the same
side of node \(4\).</p>
<p>Note the independence of left and right sides from the previous statement, it
doesn&rsquo;t matter whether node \(2\) is below or above node \(4\) from \(3\)&lsquo;s
perspective, it only needs to know how many ancestors are above it. This will
come in handy later.</p>
<p>Node \(3\) was kind of obvious, we look to the left and right and found two nodes
that were ancestors to it. If we examine node \(1\) it is a little bit more
tricky. If you apply the same logic as before, nodes \(2,3,4\) all have \(a[2 .. 4]
&lt; a[1]\) they all could be potential ancestors for \(1\). If you think of them in
order, however, you will note the following. For \(a[4]\), it is clear that it is
the root, everything to its right is irrelevant to \(1\). For \(3\) it is not clear
whether it is an ancestor of \(1\). Node \(1\) could potentially lie on \(3\)&lsquo;s left
branch from its positioning, unless there is a node between \(3\) and \(1\) that
separates them into separate branches. Indeed there is such a node: \(2\). Node
\(2\) comes before \(3\) and therefore separates \(1\) from \(3\) into different
subtrees. In fact when examining node \(3\) we just have to find a node \(j\)
between \(1\) and \(3\) such that \(a[j] &lt; a[3]\). To simplify further, we need to
look for the minimum node \(j\) between \(1\) and \(3\) to separate the two sides,
potentially discarding further possibilities.</p>
<p>So in general when we look for the possible ancestors of a particular node \(i\),
when considering a node \(j &lt; i\) as a potential candidate, we only need to find
the some minimum between \(a[j .. i]\) to determine if node \(j\) could be a
potential ancestor. This is symmetric for a point \(j\) to the right of \(i\).</p>
<p>Thus one comes to the following formula in the solution:</p>
<p>\[
d_i(a)=1+\sum_{1\le j&lt;i}(a[j] == \min(a[j\ldots i]))+\sum_{i&lt;j\le n}(a[j] ==
\min(a[i\ldots j])).
\]</p>
<p>The first \(1\) on the RHS, denotes the default depth of the root, then
the first sum denotes the elements to the left of node \(i\) and the second sum
denotes the elements to the right of node \(i\).   It would have been a little bit
clearer to add an indicator function in front of the condition.</p>
<p>\[
d_i(a)=1+\sum_{1\le j&lt;i}\mathbf{1}(a[j] == \min(a[j\ldots i]))+\sum_{i&lt;j\le n}\mathbf{1}(a[j] ==
\min(a[i\ldots j])).
\]</p>
<h2 id="independence-property">independence property</h2>
<p>We have already alluded that \(\min(a[j\ldots i])\) and \(\min(a[i\ldots j])\) count
independently from one another. This means that there might be an single
permutation that contains both a left and right ancestor for node \(i\). These two
need to be counted twice, even though they come from the same permutation. In
other words, we are free to sum up allowable permutations for left independently
from the allowable permutations for the right, even if they originate from the
same permutation (i.e. because of independence there is no overcounting).</p>
<p>On the other hand we have to be careful about counting \(\min(a[j\dots i])\) (and
by symmetry on the other side) points that lie on the same side. Suppose there
are two points \(j&rsquo;\) and \(j\) where \(j&rsquo; &lt; j\), that is, \(j&rsquo;\) is to the left of \(j\).
Since \(a[j&rsquo;]\) is a minimum from \(j&rsquo;\) to \(i\), we cannot count permutations that
include \(j\) as the mininum. On the other hand if \(a[j]\) is the minimum from \(j\)
to \(i\), then it does not matter whether \(j&rsquo;\) is a minimum, why? If \(a[j&rsquo;] &lt;
a[j]\) then those permutations would have been counted when considering \(a[j&rsquo;]\)
and they count separately from the contributions of node \(j\). If \(a[j&rsquo;] &gt; a[j]\)
then node \(j&rsquo;\) would not been a potential ancestor. Thus one can see that
&ldquo;outer&rdquo; ancestors must exclude the possibility of smaller &ldquo;inner&rdquo; ancestors,
since by definition the &ldquo;outer&rdquo; ancestor comes earlier than any other
&ldquo;inner&rdquo; ancestor.  By exclusion I only mean that we cannot count permutations
that allow \(a[j]&lt;a[j&rsquo;]\) when considering node \(j&rsquo;\) as a possible ancestor of node
\(i\).  Of course when considering node \(j\) as a possible ancestor we are free
to include permutations unconstrained by the value of \(a[j&rsquo;]\).</p>
<h2 id="generating-functions-to-count-inversions">generating functions to count inversions</h2>
<p>With the independence property, we can now independently consider contributions
of depth to a particular node, say node \(i\).  For a particular node \(i\) we will
also consider a particular node \(j\) that is a potential ancestor and tabulate
how many permutations have node \(j\) as \(i\)&lsquo;s ancestor.  We are free to tabulate
all these permutations as long as they follow two rules.</p>
<p>One, the total number of inversions has to be \(k\) and two, for these
permutations there are no node smaller than \(a[j]\) for nodes in \(i\ldots j\).</p>
<p>We can count the number of permutations available by counting the possible
inversions at each index.  For example at index \(i\) there is only one possible
inversion, namely \(0\), since this is a reference point.  For \(i+1\), there are two
possible inversions, \(a[i]\) and \(a[i+1]\) are either in order or not.  For \(i+2\)
there are three possible inversions, and so on.  Each of these possibilities can
be captured by a generating function, and the combined convolution of these
possibilities can be captured as the product of the individual sums as
\((x^0)(x^0+x^1)(x^0+x^1+x^2)\cdots(x^0+x^1+\ldots+x^{j-1})\).  At \(j\), we know
that the \(a[j] == min(a[i\ldots j])\) therefore there is only one possibility for
the \(j\) term, \(j\) inversions or \(x^j\).  For the \(j+1\) term, it is allowed to
have any number of inversions, since there is no restriction on its value.  If
\(a[j+1]\) is smaller than \(a[j]\) then this scenario will be counted when
setting \(j\) to this number, and as we mentioned before the permutations of this
&ldquo;outer&rdquo; ancestor does not preclude the counting of &ldquo;inner&rdquo; ancestors.  This
continues until \(a[j + (n-j)]\) for which there are \(0\) to \(n-i+1\) inversions
possible.</p>
<p>Next we continue counting on the left side of \(a[i]\), for \(a[i-1]\). This doesn&rsquo;t
have any restrictions and therefore we can consider inversions from \(i-1\) to
\(n\), with a possibility of \(0\) to \(n-i+2\) inversions.  Note that this way of
enumerating inversions by looking at only possibilities to the right of the number
ensures that no inversion is missed, or overcounted.  We continue in this
fashion until \(a[i-(i-1)]\) which can have \(0\) to \(n-1\) inversions.</p>
<p>Thus the accounting of all possible number of permutations for each number of
inversions is captured in the coefficient of the \(x^k\) term of the polynomial.
The effect of the \(j\) th term can be separated by multiplying by</p>
<p>\[
\frac{x^0 + x^1 + \ldots + x^{j-i}}{x^0 + x^1 + \ldots + x^{j-i}}
\]</p>
<p>Thus arriving at</p>
<p>\[
\prod_{t=1}^{n}\left(\sum_{u=0}^{t-1}x^u\right)\cdot
\frac{1}{\sum_{u=0}^{j-i}x^u}\cdot x^{j-i}.
\]</p>
<h2 id="convolution-with-rectangles">convolution with rectangles</h2>
<p>The multiplication of polynomials is accomplished by successively convolving
the coefficients of each polynomial in turn.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c++" data-lang="c++"><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">ad</span>(vmi<span style="color:#f92672">&amp;</span> a, <span style="color:#66d9ef">int</span> b) { <span style="color:#75715e">// multiply by (x^0+x^1+...+x^{b-1})
</span><span style="color:#75715e"></span>  a.rsz(sz(a)<span style="color:#f92672">+</span>b<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>);
  R0F(i,sz(a)<span style="color:#f92672">-</span>b) a[i<span style="color:#f92672">+</span>b] <span style="color:#f92672">-=</span> a[i];
  FOR(i,<span style="color:#ae81ff">1</span>,sz(a)) a[i] <span style="color:#f92672">+=</span> a[i<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>];
}
</code></pre></div><p>The easiest way to to think about this convolution is as a sliding window of
length \(b\).  As in a sliding window, it is easier to keep a running sum, and
when sliding the window remove one item from the back and insert a new element at
the front.  The only thing that this does differently is removing
elements prior to computing the running sum.</p>
<p>Another way to think about a convolution with a rectangle is a convolution with
a superposition of step functions.</p>
<p>\[
{\displaystyle \Pi\left({\frac {t-X}{Y}}\right)=u(t-(X-Y/2))-u(t-(X+Y/2))}
\]</p>
<p>Further if we recognize the step function as the integral of a delta function:</p>
<p>\[
{\displaystyle H(x):=\int _{-\infty }^{x}{\delta (s)}\ ds}
\]</p>
<p>Then we can first convolve with the delta function followed by an integral.</p>
<p>\begin{aligned}
f * \Pi((x-b/2)/b) &amp;= f * (H(x) - H(x-b)) \\\<br>
&amp;= \int_{-\infty}^{x} f * (\delta(s) - \delta(s-b))\ ds\\\<br>
&amp;= \int f(s) - f(s-b)\ ds
\end{aligned}</p>
<p>Thus the function in the code shifts \(a[]\) by \(b\) adds it to \(a[]\) and then
calculates a prefix sum.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c++" data-lang="c++"><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">sub</span>(vmi<span style="color:#f92672">&amp;</span> a, <span style="color:#66d9ef">int</span> b) {
  ROF(i,<span style="color:#ae81ff">1</span>,sz(a)) a[i] <span style="color:#f92672">-=</span> a[i<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>];
  F0R(i,sz(a)<span style="color:#f92672">-</span>b) a[i<span style="color:#f92672">+</span>b] <span style="color:#f92672">+=</span> a[i];
  a.rsz(sz(a)<span style="color:#f92672">-</span>b<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>);
}
</code></pre></div><p>The <code>sub</code> function does the exact opposite, it differentiates \(a[]\) then adds
back a shifted amount back.  This corresponds to dividing by the polynomial
\((x^0 + \ldots + x^{j-i})\)</p>
<h2 id="left-and-right">left and right</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c++" data-lang="c++"><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>() {
  setIO(<span style="color:#e6db74">&#34;treedepth&#34;</span>);
  cin <span style="color:#f92672">&gt;&gt;</span> n <span style="color:#f92672">&gt;&gt;</span> k <span style="color:#f92672">&gt;&gt;</span> MOD;
  vmi v <span style="color:#f92672">=</span> {<span style="color:#ae81ff">1</span>}; FOR(i,<span style="color:#ae81ff">1</span>,n<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>) ad(v,i);
  vmi ans(n,v[k]);
  FOR(dif,<span style="color:#ae81ff">1</span>,n) {
    sub(v,dif<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>);
    mi x <span style="color:#f92672">=</span> get(v,k<span style="color:#f92672">-</span>dif), y <span style="color:#f92672">=</span> get(v,k);
    ad(v,dif<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>);
    F0R(a,n<span style="color:#f92672">-</span>dif) {
      ans[a] <span style="color:#f92672">+=</span> x;
      ans[a<span style="color:#f92672">+</span>dif] <span style="color:#f92672">+=</span> y;
    }
  }
  F0R(i,n) cout <span style="color:#f92672">&lt;&lt;</span> ans[i].val <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#39; &#39;</span>;
}
</code></pre></div><p>The first \(~ad\) basically sets up the generation for all permutations of
a particular number of inversions, stored as the coefficients of each term
in the resulting polynomial.</p>
<p>Then we populate the answer with all the permutations with \(k\) inversions.  This
corresponds to adding the \(1\) in \(d_i(a)\).  Then we remove a set of permutations
containing \(0\) to \(|j-i|\) inversions.  <code>x</code> corresponds \(j&gt;i\) for which we
need to take into account the inversions for the \(j\) th element.  And <code>y</code>
correponds \(j&lt;i\) for which there are no inversions caused by element \(j\).
These two steps can be thought as adding the right most two terms in \(d_i(a)\).
However, for a particular \(i\) this is not done at the same time, but eventually
all \(|j-i|\) are considered in the innermost for loop.</p>
<p>Credits, thanks Benjamin, Anup, and Santosh.</p>
<ul class="pa0">
  
   <li class="list">
     <a href="https://www.frankliu.org/hugo/tags/generating-functions" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">generating functions</a>
   </li>
  
   <li class="list">
     <a href="https://www.frankliu.org/hugo/tags/trees" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">trees</a>
   </li>
  
   <li class="list">
     <a href="https://www.frankliu.org/hugo/tags/permutations" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">permutations</a>
   </li>
  
</ul>
<div class="mt6">
      
      
			<script src="https://utteranc.es/client.js"
        repo="frankieliu/hugo"
        issue-term="pathname"
        theme="github-light"
        crossorigin="anonymous"
        async>
      </script>
      </div>
    </section>

    <aside class="w-30-l mt6-l">




</aside>

  </article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="https://www.frankliu.org/hugo/" >
    &copy;  My New Hugo Site 2020 
  </a>
    <div>



<a href="https://www.facebook.com/frankie.liu.9279" target="_blank" class="link-transition facebook link dib z-999 pt3 pt0-l mr1" title="Facebook link" rel="noopener" aria-label="follow on Facebook——Opens in a new window">
  <svg height="32px"  style="enable-background:new 0 0 67 67;" version="1.1" viewBox="0 0 67 67" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M28.765,50.32h6.744V33.998h4.499l0.596-5.624h-5.095  l0.007-2.816c0-1.466,0.14-2.253,2.244-2.253h2.812V17.68h-4.5c-5.405,0-7.307,2.729-7.307,7.317v3.377h-3.369v5.625h3.369V50.32z   M33,64C16.432,64,3,50.569,3,34S16.432,4,33,4s30,13.431,30,30S49.568,64,33,64z" style="fill-rule:evenodd;clip-rule:evenodd;"/></svg>

<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000" width="8px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>
</span></a>


<a href="https://twitter.com/pi31415629" target="_blank" class="link-transition twitter link dib z-999 pt3 pt0-l mr1" title="Twitter link" rel="noopener" aria-label="follow on Twitter——Opens in a new window">
  <svg height="32px"  style="enable-background:new 0 0 67 67;" version="1.1" viewBox="0 0 67 67" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167,22.283c-2.619,0.953-4.274,3.411-4.086,6.101  l0.063,1.038l-1.048-0.127c-3.813-0.487-7.145-2.139-9.974-4.915l-1.383-1.377l-0.356,1.017c-0.754,2.267-0.272,4.661,1.299,6.271  c0.838,0.89,0.649,1.017-0.796,0.487c-0.503-0.169-0.943-0.296-0.985-0.233c-0.146,0.149,0.356,2.076,0.754,2.839  c0.545,1.06,1.655,2.097,2.871,2.712l1.027,0.487l-1.215,0.021c-1.173,0-1.215,0.021-1.089,0.467  c0.419,1.377,2.074,2.839,3.918,3.475l1.299,0.444l-1.131,0.678c-1.676,0.976-3.646,1.526-5.616,1.568  C19.775,43.256,19,43.341,19,43.405c0,0.211,2.557,1.397,4.044,1.864c4.463,1.377,9.765,0.783,13.746-1.568  c2.829-1.673,5.657-5,6.978-8.221c0.713-1.716,1.425-4.851,1.425-6.354c0-0.975,0.063-1.102,1.236-2.267  c0.692-0.678,1.341-1.419,1.467-1.631c0.21-0.403,0.188-0.403-0.88-0.043c-1.781,0.636-2.033,0.551-1.152-0.402  c0.649-0.678,1.425-1.907,1.425-2.267c0-0.063-0.314,0.042-0.671,0.233c-0.377,0.212-1.215,0.53-1.844,0.72l-1.131,0.361l-1.027-0.7  c-0.566-0.381-1.361-0.805-1.781-0.932C39.766,21.902,38.131,21.944,37.167,22.283z M33,64C16.432,64,3,50.569,3,34S16.432,4,33,4  s30,13.431,30,30S49.568,64,33,64z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/></svg>

<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000" width="8px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>
</span></a>




<a href="https://www.linkedin.com/in/frankieyliu/" target="_blank" class="link-transition linkedin link dib z-999 pt3 pt0-l mr1" title="LinkedIn link" rel="noopener" aria-label="follow on LinkedIn——Opens in a new window">
  <svg  height="32px"  style="enable-background:new 0 0 65 65;" version="1.1" viewBox="0 0 65 65" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  <path d="M50.837,48.137V36.425c0-6.275-3.35-9.195-7.816-9.195  c-3.604,0-5.219,1.983-6.119,3.374V27.71h-6.79c0.09,1.917,0,20.427,0,20.427h6.79V36.729c0-0.609,0.044-1.219,0.224-1.655  c0.49-1.22,1.607-2.483,3.482-2.483c2.458,0,3.44,1.873,3.44,4.618v10.929H50.837z M22.959,24.922c2.367,0,3.842-1.57,3.842-3.531  c-0.044-2.003-1.475-3.528-3.797-3.528s-3.841,1.524-3.841,3.528c0,1.961,1.474,3.531,3.753,3.531H22.959z M34,64  C17.432,64,4,50.568,4,34C4,17.431,17.432,4,34,4s30,13.431,30,30C64,50.568,50.568,64,34,64z M26.354,48.137V27.71h-6.789v20.427  H26.354z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>

<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000" width="8px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>
</span></a>


<a href="https://github.com/frankieliu" target="_blank" class="link-transition github link dib z-999 pt3 pt0-l mr1" title="Github link" rel="noopener" aria-label="follow on Github——Opens in a new window">
  <svg  height="32px"  style="enable-background:new 0 0 512 512;" version="1.1" viewBox="0 0 512 512" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
  <path d="M256,32C132.3,32,32,134.8,32,261.7c0,101.5,64.2,187.5,153.2,217.9c11.2,2.1,15.3-5,15.3-11.1   c0-5.5-0.2-19.9-0.3-39.1c-62.3,13.9-75.5-30.8-75.5-30.8c-10.2-26.5-24.9-33.6-24.9-33.6c-20.3-14.3,1.5-14,1.5-14   c22.5,1.6,34.3,23.7,34.3,23.7c20,35.1,52.4,25,65.2,19.1c2-14.8,7.8-25,14.2-30.7c-49.7-5.8-102-25.5-102-113.5   c0-25.1,8.7-45.6,23-61.6c-2.3-5.8-10-29.2,2.2-60.8c0,0,18.8-6.2,61.6,23.5c17.9-5.1,37-7.6,56.1-7.7c19,0.1,38.2,2.6,56.1,7.7   c42.8-29.7,61.5-23.5,61.5-23.5c12.2,31.6,4.5,55,2.2,60.8c14.3,16.1,23,36.6,23,61.6c0,88.2-52.4,107.6-102.3,113.3   c8,7.1,15.2,21.1,15.2,42.5c0,30.7-0.3,55.5-0.3,63c0,6.1,4,13.3,15.4,11C415.9,449.1,480,363.1,480,261.7   C480,134.8,379.7,32,256,32z"/>
</svg>

<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000" width="8px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>
</span></a>



<a href="https://medium.com/eins-zwei" target="_blank" class="link-transition medium link dib z-999 pt3 pt0-l mr1" title="Medium link" rel="noopener" aria-label="follow on Medium——Opens in a new window">
  <svg  height="32px"  style="enable-background:new 0 0 170 170;" version="1.1" viewBox="0 0 170 170" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M46.5340803,65.2157554 C46.6968378,63.6076572 46.0836,62.018231 44.8828198,60.93592 L32.6512605,46.2010582 L32.6512605,44 L70.6302521,44 L99.9859944,108.380952 L125.794585,44 L162,44 L162,46.2010582 L151.542017,56.2281011 C150.640424,56.9153477 150.193188,58.0448862 150.380019,59.1628454 L150.380019,132.837155 C150.193188,133.955114 150.640424,135.084652 151.542017,135.771899 L161.755369,145.798942 L161.755369,148 L110.38282,148 L110.38282,145.798942 L120.963119,135.527337 C122.002801,134.487948 122.002801,134.182246 122.002801,132.592593 L122.002801,73.0417402 L92.585901,147.755438 L88.6106443,147.755438 L54.3622782,73.0417402 L54.3622782,123.115814 C54.0767278,125.221069 54.7759199,127.3406 56.2581699,128.863022 L70.0186741,145.55438 L70.0186741,147.755438 L31,147.755438 L31,145.55438 L44.7605042,128.863022 C46.2319621,127.338076 46.8903838,125.204485 46.5340803,123.115814 L46.5340803,65.2157554 Z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>

<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000" width="8px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>
</span></a>




<a href="https://discordapp.com/users/523372803387293696" target="_blank" class="link-transition discord link dib z-999 pt3 pt0-l mr1" title="Discord link" rel="noopener" aria-label="follow on Discord——Opens in a new window">
  

<svg  height="32px"  style="enable-background:new 0 0 170 170;" version="1.1" viewBox="0 0 170 170" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<g
   id="g16"
   transform="matrix(0.73347458,0,0,0.73347458,-4.35805,2.2690639)"><path
     id="path2"
     d="m 104.4,103.9 c -5.7,0 -10.2,5 -10.2,11.1 0,6.1 4.6,11.1 10.2,11.1 5.7,0 10.2,-5 10.2,-11.1 0.1,-6.1 -4.5,-11.1 -10.2,-11.1 z m 36.5,0 c -5.7,0 -10.2,5 -10.2,11.1 0,6.1 4.6,11.1 10.2,11.1 5.7,0 10.2,-5 10.2,-11.1 0,-6.1 -4.5,-11.1 -10.2,-11.1 z"
     class="st0"
     inkscape:connector-curvature="0" /><path
     id="path4"
     d="M 189.5,20 H 55.5 C 44.2,20 35,29.2 35,40.6 v 135.2 c 0,11.4 9.2,20.6 20.5,20.6 h 113.4 l -5.3,-18.5 12.8,11.9 12.1,11.2 21.5,19 V 40.6 C 210,29.2 200.8,20 189.5,20 Z m -38.6,130.6 c 0,0 -3.6,-4.3 -6.6,-8.1 13.1,-3.7 18.1,-11.9 18.1,-11.9 -4.1,2.7 -8,4.6 -11.5,5.9 -5,2.1 -9.8,3.5 -14.5,4.3 -9.6,1.8 -18.4,1.3 -25.9,-0.1 -5.7,-1.1 -10.6,-2.7 -14.7,-4.3 -2.3,-0.9 -4.8,-2 -7.3,-3.4 -0.3,-0.2 -0.6,-0.3 -0.9,-0.5 -0.2,-0.1 -0.3,-0.2 -0.4,-0.3 -1.8,-1 -2.8,-1.7 -2.8,-1.7 0,0 4.8,8 17.5,11.8 -3,3.8 -6.7,8.3 -6.7,8.3 -22.1,-0.7 -30.5,-15.2 -30.5,-15.2 0,-32.2 14.4,-58.3 14.4,-58.3 14.4,-10.8 28.1,-10.5 28.1,-10.5 l 1,1.2 c -18,5.2 -26.3,13.1 -26.3,13.1 0,0 2.2,-1.2 5.9,-2.9 10.7,-4.7 19.2,-6 22.7,-6.3 0.6,-0.1 1.1,-0.2 1.7,-0.2 6.1,-0.8 13,-1 20.2,-0.2 9.5,1.1 19.7,3.9 30.1,9.6 0,0 -7.9,-7.5 -24.9,-12.7 l 1.4,-1.6 c 0,0 13.7,-0.3 28.1,10.5 0,0 14.4,26.1 14.4,58.3 0,0 -8.5,14.5 -30.6,15.2 z"
     class="st0"
     inkscape:connector-curvature="0" /></g></svg>

<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000" width="8px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>
</span></a>

</div>
  </div>
</footer>

    

  <script src="https://www.frankliu.org/hugo/dist/js/app.3fc0f988d21662902933.js"></script>


  </body>
</html>
